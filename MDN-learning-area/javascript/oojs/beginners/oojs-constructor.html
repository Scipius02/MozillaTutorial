<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Object-oriented JavaScript example</title>
  </head>

  <body>
    <p>This example requires you to enter commands in your browser's JavaScript console (see <a href="https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_are_browser_developer_tools">What are browser developer tools</a> for more information).</p>

  </body>

    <script>
    /*function createNewPerson(name) {    // manual way
      const obj = {};
      obj.name = name;
      obj.greeting = function() {
        alert('Hi! I\'m ' + obj.name + '.');
      };
      return obj;
    }*/

    // with this. notation: constructor function is JS's class
    // constructors begin with capital letter
    function Person(first, last, age, gender, interests) {
      this.name = {
        first : first,
        last : last
      };
      this.age = age;
      this.gender = gender;
      if (this.gender === 'male') {
        this.pronoun = 'he';
      } else if (this.gender === 'female') {
        this.pronoun = 'she';
      } else {
        this.pronoun = 'they';
      }
      this.interests = interests;
      this.interestList = '';

      this.bio = function() {
        // create dynamic interest list
        if (this.interests.length === 1) {
          this.interestList = this.interests[0];
        } else if (this.interests.length === 2) {
          this.interestList = `${this.interests[0]} and ${this.interests[1]}.`;
        } else if (this.interests.length > 2) {
          for (let i=0; i < this.interests.length; i++){  
            if (i < this.interests.length - 1) {
              this.interestList += this.interests[i] + ' and ';
            } else {
              this.interestList += this.interests[i] + '.';
            }
          }     
        }
        // make pronoun respond to gender
        if (this.gender === 'male') {
          alert(this.name.first + ' ' + this.name.last + ' is ' + this.age + ' years old. He likes ' + this.interestList);
        } else if (this.gender === 'female') {
          alert(this.name.first + ' ' + this.name.last + ' is ' + this.age + ' years old. She likes ' + this.interestList);
        } else {
          alert(this.name.first + ' ' + this.name.last + ' is ' + this.age + ' years old. They like ' + this.interestList);
        }
      };
      this.greeting = function() {
        alert('Hi! I\'m ' + this.name.first + '.');
      };
    }

    // instantiation
    let person1 = new Person('Bob', 'Smith', 32, 'male', ['music', 'skiing']);
    let person2 = new Person('Sadie', 'Smith', 34, 'female', ['music', 'skiing', 'rockclimbing']);
    </script>
</html>
